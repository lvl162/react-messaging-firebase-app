{"version":3,"sources":["images/login.svg","features/counter/counterSlice.js","lib/firebase.js","features/auth/authSlice.js","features/posts/postsSlice.js","app/store.js","components/Loading.js","components/PrivateRoute.js","components/PrivateAndParamsRoute.js","pages/404/404.js","pages/auth/elements.js","pages/homepage/NavBarElements.js","components/Avatar.js","pages/homepage/NavBar.js","pages/homepage/NewFeedElements.js","pages/homepage/NewPostElements.js","pages/homepage/PostElements.js","pages/dropdown/DropDown.js","pages/homepage/PostItem.js","lib/helper.js","pages/homepage/NewPost.js","pages/homepage/PostList.js","pages/homepage/NewFeed.js","pages/homepage/HomePage.js","pages/auth/LoginPage.js","pages/profile/ProfilePage.js","pages/messages/elements.js","pages/suggests/SuggestUser.js","pages/messages/ChatHistorySection.js","pages/messages/NavBarSection.js","pages/messages/InboxSection.js","pages/messages/InboxSectionHandle.js","pages/messages/MessagePage.js","pages/messages/RouteMessagePage.js","pages/messages/NewMessagePage.js","pages/auth/SignUpPage.js","pages/notVerified/NotVerifiedPage.js","components/NotVerifiedRoute.js","route.js","App.js","index.js"],"names":["counterSlice","createSlice","name","initialState","value","reducers","increment","state","decrement","incrementByAmount","action","payload","actions","firebase","apps","length","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","fromMillis","storage","Timestamp","FieldValue","googleAuthProvider","GoogleAuthProvider","serverTimestamp","TaskEvent","STATE_CHANGED","docToJson","doc","data","createdAt","toMillis","signIn","createAsyncThunk","user","a","displayName","uid","email","photoURL","userDoc","collection","batch","set","contacts","commit","then","res","console","log","catch","err","signOut","authSlice","status","error","isLoggedIn","extraReducers","pending","fulfilled","rejected","id","title","content","date","sub","Date","minutes","toISOString","reactions","thumbsUp","hooray","heart","rocket","eyes","postsSlice","postAdded","push","postUpdated","existingPost","find","post","reactionAdded","postId","reaction","rootReducer","combineReducers","counter","counterReducer","authReducer","posts","postsReducer","persistConfig","key","version","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","Loading","className","PrivateRoute","children","rest","useAuthState","loading","render","location","to","pathname","from","emailVerified","PrivateAndParamsRoute","Component","routeProps","Custom404","src","width","height","frameBorder","allowFullScreen","gradientBackground","keyframes","rotateIcon","LoginFormContainer","styled","div","LoginForm","form","Image","img","Subtitle","InputContainer","ButtonsContainer","LoginSubmitButton","button","SignUpButton","Link","ForgotPasswordLink","Heading","h4","FormFieldsContainer","SocialLinksContainer","ul","SocialLink","li","InputText","input","NavBarContainer","nav","NavBarWrapper","LogoContainer","ALOIDAIKLogo","SearchBar","SearchInput","GroupIconsContainer","GroupIconsWrapper","IconChild","AvatarWrapper","size","padding","Avatar","alt","NavBar","me","toggleHome","scroll","scrollToTop","dispatch","useDispatch","onClick","placeholder","NewFeedContainer","NewPostContainer","NewPostWrapper","NewPostHeaderContainer","NewPostHeaderWrapper","NewPostHeaderNameAndPublic","NewPostHeaderName","NewPostHeaderPublicOrNot","NewPostBodyContainer","NewPostBodyWrapper","NewPostButtons","FooterButton","NewPostFooterPost","NewPostFooterCancel","PostsListContainer","PostItemContainer","deleted","PostItemHeaderContainer","header","PostItemHeaderWrapper","PostItemBodyContainer","PostItemBodyWrapper","updateMode","PostItemHeaderProfile","PostItemHeaderAvt","PostHeaderNameAndTime","PostItemHeaderName","PostItemHeaderTime","PostItemHeaderOptions","PostItemFooterContainer","footer","PostItemFooterWrapper","LikeButton","SaveButton","PostEndMessage","LoadMoreButton","DropDownContainer","DropDownItem","background","DropDownHeading","DropDown","toggleDropDown","expand","handleDelete","turnOnUpdateMode","handleCancel","NickName","PostItem","memo","nickname","authorId","avtUrl","likesCount","useState","contentState","setContentState","myId","currentUser","postRef","likesRef","useDocument","heartDoc","likes","setLikes","addHeart","update","removeHeart","delete","setUpdateMode","setDeleted","dirty","setDirty","setExpand","handleSave","contentRef","current","innerHTML","updatedAt","toast","success","useRef","window","confirm","icon","focus","contentEditable","dangerouslySetInnerHTML","__html","ref","node","onKeyDown","e","exists","timeSince","seconds","Math","floor","interval","docToPostItem","author","commentsCount","createdBy","split","createdSince","toDate","NewPost","inputRef","newPosts","setNewPosts","trim","commentCount","public","add","textContent","data-ph","map","PostList","postsRef","setPosts","setLoading","postsEnd","setPostsEnd","useEffect","postsQuery","limit","get","docs","fetchPosts","getMorePosts","last","cursor","query","startAfter","concat","NewFeed","collectionGroup","orderBy","HomePage","Login","history","useHistory","handleSignInWithGoogle","signInWithPopup","setEmail","password","setPassword","wrong","setWrong","imgSrc","onSubmit","preventDefault","signInWithEmailAndPassword","userCredential","type","onChange","target","href","ProfilePage","match","params","useDocumentDataOnce","where","MessagePageContainer","MessageSectionWrapper","main","ChatListContainer","ChatListHeader","ChatListHeaderWrapper","ChatListSearchBar","ChatListSearchBarWrapper","ListContactsContainer","ListContactsWrapper","ContactItemContainer","ContactItemWrapper","UserAvt","NameAndLastMessage","UserName","HistoryLastMessage","span","InboxContainer","InboxWrapper","InboxHeaderContainer","InboxHeaderWrapper","InboxHeaderAvt","InboxHeaderNameAndStatus","InboxHeaderName","h5","InboxHeaderStatus","p","InboxBodyContainer","InboxBodyWrapper","MessageItemWrapper","MyMessageItemsContainer","MyMessageItem","MyMessageItemFirst","MyMessageItemLast","MyMessageItemMiddle","YourMessageItemsContainer","YourMessageAvt","YourMessageItemsWrapper","YourNameTag","YourMessageItem","YourMessageItemFirst","YourMessageItemLast","YourMessageItemMiddle","SendMessageContainer","SendMessageWrapper","GroupButtonsOfOptions","Option","SendMessageForm","SendMessageInput","SendMessageSubmitWrapper","SendMessageSubmit","NameAndEmailTag","Avt","Test","SuggestUser","users","setUsers","usersRef","getSuggestUsers","filter","NotFound","ChatHistory","useSelector","historyChatQuery","useCollection","historyChat","listHistory","h","you","members","linkTo","roomInfo","lastMessage","dotMess","substring","round","MsgLogo","NavBarSection","transformMessages","ms","messages","slice","reverse","temp","result","searching","i","SayHi","InboxSection","messagesInit","youObject","yourId","chatRoomId","localeCompare","genChatRoomName","handleSayHi","message","lastUpdated","lastMessageRef","setMessages","lastMsgState","handleSubmit","msg","m","photo","yourName","chats","nanoid","renderSequenceChat","shiftKey","InboxSectionHandle","messagesRef","limitToLast","loading1","error1","useCollectionOnce","loading2","error2","MessagePage","RouteToMessagePage","useCollectionDataOnce","toThisId","lastMessageUser","NewMessage","NewMessagePage","PWUl","PWLi","SignUp","setName","confirmPw","setConfirmPw","require","default","photoUrl","createUserWithEmailAndPassword","updateProfile","sendEmailVerification","alert","pattern","disabled","NotVerifiedContainer","NotVerifiedWrapper","Message","h1","ButtonGroups","Button","NotVerifiedPage","handleSignOut","handleToHome","reload","handleRequest","NotVerifiedRoute","Routing","exact","path","RouteToToMessagePage","component","App","position","reverseOrder","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.50be716c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/login.8cc1ab77.svg\";","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: (state) => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: (state) => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\r\n\r\nexport default counterSlice.reducer;\r\n\r\nexport const selectCount = (state) => state.counter.value;\r\nexport const incrementAsync = (amount) => (dispatch) => {\r\n  setTimeout(() => {\r\n    dispatch(incrementByAmount(amount));\r\n  }, 1000);\r\n};\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyAerLgcmu810-sjB2Jt9tbuWOGPNox5Jkc',\r\n  authDomain: 'messaging-app-ad213.firebaseapp.com',\r\n  projectId: 'messaging-app-ad213',\r\n  storageBucket: 'messaging-app-ad213.appspot.com',\r\n  messagingSenderId: '631028727218',\r\n  appId: '1:631028727218:web:f97997de84c5b2d56af8ab',\r\n  measurementId: 'G-RV13ZDYG8C',\r\n};\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n}\r\n// firebase.initializeApp(firebaseConfig);\r\n// export const app = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\nexport const storage = firebase.storage();\r\nexport const fromMillis = firebase.firestore.Timestamp.fromMillis;\r\nexport const increment = firebase.firestore.FieldValue.increment;\r\nexport const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\nexport const STATE_CHANGED = firebase.storage.TaskEvent.STATE_CHANGED;\r\n\r\nexport const getUserWithUsername = async (username) => {\r\n  const usersRef = firestore.collection('users');\r\n  const query = usersRef.where('username', '==', username).limit(1);\r\n\r\n  const userDoc = (await query.get()).docs[0];\r\n  return userDoc;\r\n};\r\nexport const { serverTimestamp } = firebase.firestore.FieldValue;\r\nexport const docToJson = (doc) => {\r\n  const data = doc.data();\r\n  return {\r\n    ...data,\r\n    createdAt: data?.createdAt?.toMillis() || 0,\r\n  };\r\n};\r\n\r\nexport const isDocExist = async (docRef) => {\r\n  const doc = await docRef.get();\r\n  return doc.exists;\r\n};\r\n\r\nexport function sendVerificationEmail() {\r\n  var user = auth.currentUser;\r\n\r\n  user\r\n    .sendEmailVerification()\r\n    .then(function () {\r\n      window.alert(\r\n        'Verification link sent to your email. Kinldy check to verify your account'\r\n      );\r\n    })\r\n    .catch(function (error) {\r\n      // An error happened.\r\n    });\r\n}\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport {\r\n  auth,\r\n  firestore,\r\n  isDocExist,\r\n  serverTimestamp,\r\n} from '../../lib/firebase';\r\n\r\nexport const signIn = createAsyncThunk('auth/login', async (user) => {\r\n  const { displayName, uid, email, photoURL } = user;\r\n  const userDoc = firestore.collection('users').doc(uid);\r\n\r\n  const batch = firestore.batch();\r\n  batch.set(userDoc, {\r\n    photoURL: photoURL,\r\n    displayName: displayName,\r\n    contacts: [],\r\n    email: email,\r\n    createdAt: serverTimestamp(),\r\n  });\r\n\r\n  batch\r\n    .commit()\r\n    .then((res) => console.log('successfully'))\r\n    .catch((err) => console.log('error'));\r\n\r\n  console.log('info already added');\r\n  return { displayName, uid, email, photoURL };\r\n});\r\n\r\nexport const signOut = createAsyncThunk('auth/logout', async () => {\r\n  return await auth.signOut();\r\n});\r\n\r\nexport const authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState: {\r\n    user: null,\r\n    status: 'idle',\r\n    error: null,\r\n    isLoggedIn: null,\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [signIn.pending]: (state, action) => {\r\n      state.status = 'loading';\r\n    },\r\n    [signIn.fulfilled]: (state, action) => {\r\n      state.status = 'succeeded';\r\n      // Add any fetched posts to the array\r\n      state.user = action.payload;\r\n      state.isLoggedIn = true;\r\n    },\r\n    [signIn.rejected]: (state, action) => {\r\n      state.status = 'failed';\r\n      state.error = action.payload;\r\n    },\r\n    [signOut.pending]: (state, action) => {\r\n      state.status = 'loading';\r\n    },\r\n    [signOut.fulfilled]: (state, action) => {\r\n      state.status = 'succeeded';\r\n      // Add any fetched posts to the array\r\n      state.user = null;\r\n      state.isLoggedIn = false;\r\n    },\r\n    [signOut.rejected]: (state, action) => {\r\n      state.status = 'failed';\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { sub } from 'date-fns';\r\n\r\nconst initialState = [\r\n  {\r\n    id: '1',\r\n    title: 'First Post!',\r\n    content: 'Hello!',\r\n    date: sub(new Date(), { minutes: 10 }).toISOString(),\r\n    reactions: {\r\n      thumbsUp: 0,\r\n      hooray: 0,\r\n      heart: 0,\r\n      rocket: 0,\r\n      eyes: 0,\r\n    },\r\n  },\r\n  {\r\n    id: '2',\r\n    title: 'Second Post',\r\n    content: 'More text',\r\n    date: sub(new Date(), { minutes: 5 }).toISOString(),\r\n    reactions: {\r\n      thumbsUp: 0,\r\n      hooray: 0,\r\n      heart: 0,\r\n      rocket: 0,\r\n      eyes: 0,\r\n    },\r\n  },\r\n];\r\n\r\nconst postsSlice = createSlice({\r\n  name: 'posts',\r\n  initialState,\r\n  reducers: {\r\n    postAdded(state, action) {\r\n      state.push(action.payload);\r\n    },\r\n    postUpdated(state, action) {\r\n      const { id, title, content } = action.payload;\r\n      const existingPost = state.find((post) => post.id === id);\r\n      if (existingPost) {\r\n        existingPost.title = title;\r\n        existingPost.content = content;\r\n      }\r\n    },\r\n    reactionAdded(state, action) {\r\n      const { postId, reaction } = action.payload;\r\n      const existingPost = state.find((post) => post.id === postId);\r\n      if (existingPost) {\r\n        existingPost.reactions[reaction]++;\r\n      }\r\n    },\r\n  },\r\n});\r\nexport const { postAdded, postUpdated, reactionAdded } = postsSlice.actions;\r\n\r\nexport default postsSlice.reducer;\r\n","import { combineReducers, configureStore } from '@reduxjs/toolkit';\r\nimport counterReducer from '../features/counter/counterSlice';\r\nimport authReducer from '../features/auth/authSlice';\r\nimport postsReducer from '../features/posts/postsSlice';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nconst rootReducer = combineReducers({\r\n  counter: counterReducer,\r\n  auth: authReducer,\r\n  posts: postsReducer,\r\n});\r\nconst persistConfig = {\r\n  key: 'root',\r\n  version: 1,\r\n  storage,\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\nexport const store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n      },\r\n    }),\r\n});\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\r\n// import { Dimmer, Loader, Image, Segment } from 'semantic-ui-react';\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div className='loader-wrapper'>\r\n      <div className='loader'></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Loading from './Loading';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { auth } from '../lib/firebase';\r\n\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  const [user, loading, error] = useAuthState(auth);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        loading ? (\r\n          <Loading />\r\n        ) : !user || error ? (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        ) : user.emailVerified ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/auth/verification',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Loading from './Loading';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { auth } from '../lib/firebase';\r\n\r\nfunction PrivateAndParamsRoute({ children: Component, ...rest }) {\r\n  const [user, loading, error] = useAuthState(auth);\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location, ...routeProps }) =>\r\n        loading ? (\r\n          <Loading />\r\n        ) : !user || error ? (\r\n          // <GoogleButton/> button can be used instead\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        ) : user.emailVerified ? (\r\n          <Component { ...routeProps } user={user} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/auth/verification',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateAndParamsRoute;\r\n","import { Link } from 'react-router-dom';\r\nimport './404.css';\r\nexport default function Custom404() {\r\n  return (\r\n    <div className='Notfound'>\r\n      <div>\r\n        <div>\r\n          <h1>404 - That page does not seem to exist...</h1>\r\n          <iframe\r\n            title='cc'\r\n            src='https://giphy.com/embed/l2JehQ2GitHGdVG9y'\r\n            width='480'\r\n            height='362'\r\n            frameBorder='0'\r\n            allowFullScreen\r\n          ></iframe>\r\n          <Link to='/'>\r\n            <button>Go home</button>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Link } from 'react-router-dom';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nexport const gradientBackground = keyframes` {\r\n\t0% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n\t50% {\r\n\t\tbackground-position: 100% 50%;\r\n\t}\r\n\t100% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n}\r\n`;\r\n\r\nexport const rotateIcon = keyframes`\r\n  0% {\r\n    transform: rotate(-120deg);\r\n  }\r\n\r\n  50% {\r\n    transform: rotate(120deg);\r\n  }\r\n\r\n  100%{\r\n    transform: rotate(-120deg);\r\n  }\r\n`;\r\nexport const LoginFormContainer = styled.div`\r\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\r\n  background-size: 400% 400%;\r\n  animation: ${gradientBackground} 10s ease infinite !important;\r\n  font-family: 'Style Script', cursive;\r\n  overflow-y: hidden;\r\n  min-height: 300px;\r\n  min-width: 400px;\r\n  height: 100vh;\r\n  width: 100%;\r\n  /* background-color: pink; */\r\n  display: flex;\r\n  flex-grow: 1;\r\n  align-items: center; // flex-direction axis\r\n  justify-content: center; // counter flex-direction axis\r\n  font-family: 'Karla', sans-serif;\r\n  @media screen and (min-width: 700px) {\r\n    padding: auto 30px;\r\n  }\r\n`;\r\n\r\nexport const LoginForm = styled.form`\r\n  flex-wrap: wrap;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-width: 350px;\r\n  min-height: 400px;\r\n  background-color: #ffffff;\r\n  justify-content: space-evenly;\r\n  gap: 15px;\r\n  box-shadow: 0 1px 10px rgba(0, 0, 0, 0.2);\r\n  &:hover {\r\n    box-shadow: 0 1px 15px rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n\r\nexport const Image = styled.img`\r\n  min-width: 170px;\r\n  max-width: 555px;\r\n  height: 100%;\r\n  @media screen and (max-width: 700px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const Subtitle = styled.div`\r\n  font-size: 2rem;\r\n  color: gray;\r\n  &:hover {\r\n    animation: ${rotateIcon} 2s ease-in-out infinite;\r\n  }\r\n`;\r\nexport const InputContainer = styled.div`\r\n  flex-grow: 2;\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  *::nth-child(1) {\r\n    flex: 1 1 30%;\r\n  }\r\n  *::nth-child(2) {\r\n    flex: 1 1 70%;\r\n  }\r\n  gap: 10px;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n`;\r\nexport const ButtonsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  align-items: center;\r\n`;\r\nexport const LoginSubmitButton = styled.button`\r\n  text-decoration: none;\r\n  color: inherit;\r\n  background-color: pink;\r\n  padding: 10px 15px;\r\n  border-radius: 10%;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  font-style: bold;\r\n  background-size: 200% auto;\r\n  color: white;\r\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n  background-image: linear-gradient(\r\n    to right,\r\n    #895cf2 0%,\r\n    #ffabf4 50%,\r\n    #895cf2 100%\r\n  );\r\n  transition: 1s;\r\n  &:hover {\r\n    background-position: right center;\r\n  }\r\n`;\r\nexport const SignUpButton = styled(Link)`\r\n  text-decoration: none;\r\n  color: inherit;\r\n  background-color: pink;\r\n  padding: 10px 15px;\r\n  border-radius: 10%;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  font-style: bold;\r\n  background-size: 200% auto;\r\n  color: white;\r\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n  background-image: linear-gradient(\r\n    to right,\r\n    #895cf2 0%,\r\n    #ffabf4 50%,\r\n    #895cf2 100%\r\n  );\r\n  transition: 1s;\r\n  &:hover {\r\n    background-position: right center;\r\n  }\r\n`;\r\nexport const ForgotPasswordLink = styled(Link)`\r\n  color: inherit;\r\n  text-decoration: none;\r\n  font-weight: 250;\r\n  &:hover {\r\n    font-style: italic;\r\n    font-weight: 500;\r\n    color: red;\r\n  }\r\n  text-align: center;\r\n`;\r\nexport const Heading = styled.h4`\r\n  user-select: none;\r\n  margin: 10px auto;\r\n  color: transparent;\r\n  text-align: center;\r\n  /* font-family: 'Style Script', cursive; */\r\n  border-bottom: 4px solid;\r\n  border-image-slice: 1;\r\n  border-width: 5px;\r\n  border-image-source: linear-gradient(to left, #743ad5, #d53a9d);\r\n  padding-bottom: 8px;\r\n  margin-top: auto;\r\n  background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\r\n\r\n  background-size: 200% auto;\r\n\r\n  color: #000;\r\n  background-clip: text;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  margin-top: 10px;\r\n  animation: ${gradientBackground} 2s linear infinite;\r\n`;\r\nexport const FormFieldsContainer = styled.div`\r\n  margin: 20px auto;\r\n  margin-top: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 25px;\r\n`;\r\nexport const SocialLinksContainer = styled.ul`\r\n  flex-grow: 1;\r\n  min-height: 40px;\r\n  display: flex;\r\n  align-items: space-around;\r\n  justify-content: center;\r\n  gap: 30px;\r\n  list-style: none;\r\n`;\r\nexport const SocialLink = styled.li`\r\n  &:hover {\r\n    transition: 100ms ease-in-out;\r\n    font-size: 3rem;\r\n  }\r\n  cursor: pointer;\r\n  font-size: 1.9rem;\r\n  text-decoration: none;\r\n  color: none;\r\n`;\r\n\r\nexport const InputText = styled.input`\r\n  padding: 8px 4px;\r\n  font-size: 1.2rem;\r\n`;\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { Heading } from '../auth/elements';\r\n\r\nexport const NavBarContainer = styled.nav`\r\n  margin-top: -54px;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n  position: fixed;\r\n  width: 100%;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  display: flex;\r\n  align-items: stretch;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  flex-shrink: 0;\r\n  z-index: 998;\r\n  background-color: white;\r\n`;\r\nexport const NavBarWrapper = styled.div`\r\n  margin: auto;\r\n  width: 100%;\r\n  max-width: 975px;\r\n  height: 54px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 999;\r\n`;\r\nexport const LogoContainer = styled.div`\r\n  cursor: pointer;\r\n  flex: 1 1 0%;\r\n  min-width: 40px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  user-select: none;\r\n`;\r\nexport const BrandLogo = styled.img`\r\n  cursor: pointer;\r\n  height: 50%;\r\n  width: 160px;\r\n`;\r\nexport const ALOIDAIKLogo = styled(Heading)`\r\n  flex: 1;\r\n  font-size: 2.5rem;\r\n  padding: none;\r\n  border: none;\r\n  text-align: left;\r\n  /* vertical-align: middle; */\r\n`;\r\nexport const SearchBar = styled.div`\r\n  flex: 0 1 auto;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const SearchInput = styled.input`\r\n  padding: 5px 10px;\r\n  width: 250px;\r\n  height: 30px;\r\n  font-size: 1rem;\r\n`;\r\n\r\nexport const GroupIconsContainer = styled.div`\r\n  display: flex;\r\n  flex: 1 0 0%;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n`;\r\n\r\nexport const GroupIconsWrapper = styled.div`\r\n  white-space: nowrap;\r\n  display: flex;\r\n  gap: 20px;\r\n`;\r\n\r\nexport const IconChild = styled(Link)`\r\n  font-size: 1.4rem;\r\n  cursor: pointer;\r\n  user-select: none;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst AvatarWrapper = styled.img`\r\n  width: ${({ size }) => size + 'px'};\r\n  width: ${({ size }) => size + 'px'};\r\n  border: 1px solid #dbdbdb;\r\n  border-radius: 50%;\r\n  padding: ${({ padding }) => padding + 'px'};\r\n  cursor: pointer;\r\n`;\r\nconst Avatar = ({ size, padding, src, alt }) => {\r\n  return (\r\n    <AvatarWrapper\r\n      size={size}\r\n      padding={padding}\r\n      src={src}\r\n      alt={alt}\r\n    ></AvatarWrapper>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\n\r\nimport {\r\n  ALOIDAIKLogo,\r\n  GroupIconsContainer,\r\n  GroupIconsWrapper,\r\n  IconChild,\r\n  LogoContainer,\r\n  NavBarContainer,\r\n  NavBarWrapper,\r\n  SearchBar,\r\n  SearchInput,\r\n} from './NavBarElements';\r\nimport { IoIosHome, IoIosNotifications, IoIosLogOut } from 'react-icons/io';\r\nimport { AiFillMessage } from 'react-icons/ai';\r\n// import { auth } from '../../lib/firebase';\r\nimport { signOut } from '../../features/auth/authSlice';\r\nimport { useDispatch } from 'react-redux';\r\nimport Avatar from '../../components/Avatar';\r\nconst NavBar = ({ me }) => {\r\n  const { uid } = me;\r\n  const photoURL = me.photoURL;\r\n  const toggleHome = () => {\r\n    scroll.scrollToTop();\r\n  };\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <NavBarContainer>\r\n      <NavBarWrapper>\r\n        <LogoContainer onClick={toggleHome}>\r\n          {/* <BrandLogo src={logoSrc} alt='Logo' /> */}\r\n          <ALOIDAIKLogo>ALOIDAIK</ALOIDAIKLogo>\r\n        </LogoContainer>\r\n        <SearchBar>\r\n          <SearchInput placeholder='Tìm kiếm'></SearchInput>\r\n        </SearchBar>\r\n        <GroupIconsContainer>\r\n          <GroupIconsWrapper>\r\n            <IconChild to='/' onClick={toggleHome}>\r\n              <IoIosHome />\r\n            </IconChild>\r\n            <IconChild to='/message'>\r\n              <AiFillMessage />\r\n            </IconChild>\r\n            <IconChild to='/notifications'>\r\n              <IoIosNotifications />\r\n            </IconChild>\r\n            <IconChild to={`/user/${uid}`}>\r\n              <Avatar size='30' src={photoURL} padding='1' />\r\n            </IconChild>\r\n            {/* <div onClick={() => auth.signOut()}>OUT</div> */}\r\n            <IconChild to='/' onClick={() => dispatch(signOut())}>\r\n              <IoIosLogOut />\r\n            </IconChild>\r\n          </GroupIconsWrapper>\r\n        </GroupIconsContainer>\r\n      </NavBarWrapper>\r\n    </NavBarContainer>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import styled from 'styled-components';\r\nexport const NewFeedContainer = styled.div`\r\n  margin-top: 54px;\r\n  z-index: 1;\r\n  width: 100%;\r\n  padding-top: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 20px;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const NewPostContainer = styled.div`\r\n  display: flex;\r\n  background: #fff;\r\n  border: 1px solid #dbdbdb;\r\n  border-radius: 8px;\r\n`;\r\nexport const NewPostWrapper = styled.div`\r\n  flex: 1;\r\n  min-width: 600px;\r\n  width: 60vw;\r\n  overflow: auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\nexport const NewPostHeaderContainer = styled.div`\r\n  padding: 15px 10px;\r\n  display: flex;\r\n  max-height: 50px;\r\n  width: 100%;\r\n  border-bottom: 1px solid #dbdbdb;\r\n`;\r\nexport const HeaderForName = styled.div`\r\n  flex: 1;\r\n`;\r\nexport const HeaderForButton = styled.div``;\r\nexport const NewPostHeaderWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  gap: 10px;\r\n  max-height: 50px;\r\n`;\r\nexport const NewPostHeaderAvt = styled.img`\r\n  padding: 2px;\r\n  border-radius: 50%;\r\n  border: 1px solid #dbdbdb;\r\n  height: 30px;\r\n  width: 30px;\r\n`;\r\nexport const NewPostHeaderNameAndPublic = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport const NewPostHeaderName = styled.div`\r\n  font-size: 1rem;\r\n  font-weight: 550;\r\n`;\r\nexport const NewPostHeaderPublicOrNot = styled.div`\r\n  font-size: 0.9rem;\r\n  font-weight: 400;\r\n`;\r\nexport const NewPostBodyContainer = styled.div`\r\n  display: flex;\r\n  padding: 10px;\r\n`;\r\nexport const NewPostBodyWrapper = styled.div`\r\n  flex: 1;\r\n  padding: 5px 10px;\r\n  line-height: 1.33333rem;\r\n  /* height: auto; */\r\n  min-height: 90px;\r\n  /* background: yellow; */\r\n  overflow-wrap: break-word;\r\n  word-break: break-word;\r\n  white-space: pre-wrap;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n  &:focus {\r\n    box-shadow: 0 0 4px #dbdbdb;\r\n    outline: none;\r\n  }\r\n  white-space: pre;\r\n  &:empty:not(:focus):before {\r\n    content: attr(data-ph);\r\n    color: grey;\r\n    font-style: bold;\r\n  }\r\n  /* border: 1px solid #dbdbdb; */\r\n`;\r\n\r\nexport const NewPostButtons = styled.div`\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst FooterButton = styled.div`\r\n  height: 30px;\r\n  cursor: pointer;\r\n  border: 1px solid #dbdbdb;\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 10px;\r\n  padding: 5px 10px;\r\n  user-select: none;\r\n`;\r\n\r\nexport const NewPostFooterPost = styled(FooterButton)``;\r\nexport const NewPostFooterCancel = styled(FooterButton)``;\r\n","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const PostsListContainer = styled.div`\r\n  max-width: 975px;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  gap: 10px;\r\n`;\r\n\r\nexport const PostItemContainer = styled.div`\r\n  border-radius: 8px;\r\n\r\n  border: 1px solid #dbdbdb;\r\n  width: 60vw;\r\n  min-width: 600px;\r\n  overflow: auto;\r\n  background: #fff;\r\n  display: ${({ deleted }) => (!deleted ? 'flex' : 'none')};\r\n  flex-direction: column;\r\n  max-height: 400px;\r\n`;\r\n\r\nexport const NewPostContainer = styled.div`\r\n  display: flex;\r\n  background: #fff;\r\n`;\r\nexport const NewPostWrapper = styled.div`\r\n  flex: 1;\r\n  padding: 15px;\r\n  min-width: 600px;\r\n  width: 60vw;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const PostItemHeaderContainer = styled.header`\r\n  border-bottom: 1px solid #dbdbdb;\r\n  max-height: 60px;\r\n  min-height: 50px;\r\n`;\r\nexport const PostItemHeaderWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: space-between;\r\n  padding: 10px 10px;\r\n`;\r\n\r\nexport const PostItemBodyContainer = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  max-height: 500px;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const PostItemBodyWrapper = styled.div`\r\n  /* display: flex;\r\n  align-items: space-between; */\r\n  margin: 5px 15px;\r\n  font-size: 0.95rem;\r\n  overflow-wrap: break-word;\r\n  line-height: 1.33rem;\r\n  min-height: ${({ updateMode }) => (updateMode ? '100px' : 'auto')};\r\n  width: 100%;\r\n`;\r\n\r\nexport const PostItemHeaderProfile = styled.div`\r\n  flex: 1;\r\n  width: 100%;\r\n  max-height: 40px;\r\n  display: flex;\r\n  flex: 1 0 0%;\r\n  gap: 10px;\r\n  align-self: flex-start;\r\n  align-items: center;\r\n  overflow: hidden;\r\n`;\r\nexport const PostItemHeaderAvt = styled(Link)`\r\n  /* width: 30px;\r\n  height: 30px;\r\n  vertical-align: middle;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  border: 1px gray solid;\r\n  padding: 2px; */\r\n`;\r\nexport const PostHeaderNameAndTime = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n`;\r\nexport const PostItemHeaderName = styled(Link)`\r\n  text-decoration: none;\r\n  color: inherit;\r\n  cursor: pointer;\r\n  font-style: bold;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  &:hover {\r\n    font-style: bold;\r\n    font-weight: 600;\r\n  }\r\n`;\r\nexport const PostItemHeaderTime = styled.div`\r\n  /* cursor: pointer; */\r\n  font-size: 0.75rem;\r\n  font-weight: 400;\r\n  &:hover {\r\n    font-style: bold;\r\n    font-weight: 600;\r\n  }\r\n`;\r\nexport const PostItemHeaderOptions = styled.div`\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: row-reverse;\r\n  align-self: center;\r\n  justify-content: center;\r\n  text-align: end;\r\n`;\r\n\r\n// footer\r\n\r\nexport const PostItemFooterContainer = styled.footer`\r\n  min-height: 40px;\r\n  max-height: 50px;\r\n  display: flex;\r\n  border-bottom: 1px solid #dbdbdb;\r\n`;\r\nexport const PostItemFooterWrapper = styled.div`\r\n  flex: 1;\r\n  padding: 0px 15px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-start;\r\n  gap: 10px;\r\n`;\r\nexport const FooterButton = styled.button`\r\n  border-radius: 10%;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  font-style: bold;\r\n  color: black;\r\n  background-color: white;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const LikeButton = styled(FooterButton)`\r\n  /* flex: 1 0 50%; */\r\n  width: fit-content;\r\n`;\r\nexport const CommentButton = styled(FooterButton)`\r\n  /* flex: 1 0 50%; */\r\n  width: fit-content;\r\n`;\r\nexport const SaveButton = styled(FooterButton)`\r\n  /* flex: 1 0 50%; */\r\n  padding: 2px 5px;\r\n  background: green;\r\n  width: fit-content;\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nexport const PostEndMessage = styled.div`\r\n  font-size: 1.3rem;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const LoadMoreButton = styled.button`\r\n  align-self: flex-start;\r\n  background-color: var(--color-gray);\r\n  border: none;\r\n  color: var(--color-text);\r\n  padding: 1rem 2rem;\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: center;\r\n  justify-content: center;\r\n  text-decoration: none;\r\n  font-family: 'Noto Sans', sans-serif;\r\n  font-weight: bold;\r\n  border-radius: 0.25rem;\r\n  cursor: pointer;\r\n  margin: 0.5rem 1rem 1.2rem 0;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst DropDownContainer = styled.ul`\r\n  list-style: none;\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst DropDownItem = styled.li`\r\n  font-size: 1rem;\r\n  border-radius: 4px;\r\n  border: 1px solid #dbdbdb;\r\n  padding: 3px 5px;\r\n  user-select: none;\r\n\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n    background: ${({ background }) => background};\r\n  }\r\n  &:hover:active {\r\n    transform: translateY(1px);\r\n    box-shadow: 0px -1px 2px 0px rgba(0, 0, 0, 0.35);\r\n  }\r\n`;\r\nconst DropDownHeading = styled.div`\r\n  user-select: none;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: 10px;\r\n  font-size: 1.6rem;\r\n  transform: rotate(90deg);\r\n  &:hover {\r\n    border-radius: 3px;\r\n    background-color: gray;\r\n  }\r\n`;\r\nconst DropDown = ({\r\n  toggleDropDown,\r\n  expand,\r\n  handleDelete,\r\n  turnOnUpdateMode,\r\n  handleCancel,\r\n}) => {\r\n  return (\r\n    <>\r\n      <DropDownHeading onClick={toggleDropDown}>...</DropDownHeading>\r\n      {expand && (\r\n        <DropDownContainer>\r\n          <DropDownItem background='green' onClick={turnOnUpdateMode}>\r\n            Update\r\n          </DropDownItem>\r\n          <DropDownItem background='red' onClick={handleDelete}>\r\n            Delete\r\n          </DropDownItem>\r\n          <DropDownItem background='gray' onClick={handleCancel}>\r\n            Cancel\r\n          </DropDownItem>\r\n        </DropDownContainer>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DropDown;\r\n","import React, { memo, useRef, useState } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport {\r\n  LikeButton,\r\n  PostItemBodyContainer,\r\n  PostItemBodyWrapper,\r\n  PostItemContainer,\r\n  PostItemFooterContainer,\r\n  PostItemFooterWrapper,\r\n  PostItemHeaderAvt,\r\n  PostItemHeaderContainer,\r\n  PostItemHeaderName,\r\n  PostItemHeaderOptions,\r\n  PostItemHeaderProfile,\r\n  PostItemHeaderWrapper,\r\n  PostHeaderNameAndTime,\r\n  PostItemHeaderTime,\r\n  SaveButton,\r\n} from './PostElements';\r\nimport {\r\n  auth,\r\n  firestore,\r\n  increment,\r\n  serverTimestamp,\r\n} from '../../lib/firebase';\r\nimport { useDocument } from 'react-firebase-hooks/firestore';\r\nimport Avatar from '../../components/Avatar';\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport DropDown from '../dropdown/DropDown';\r\nconst NickName = styled(Link)`\r\n  text-decoration: none;\r\n  user-select: none;\r\n  color: gray;\r\n  font-size: 0.9rem;\r\n  align-self: flex-start;\r\n  &:hover {\r\n    font-style: italic;\r\n  }\r\n`;\r\nconst PostItem = memo(\r\n  ({\r\n    nickname,\r\n    authorId,\r\n    postId,\r\n    avtUrl,\r\n    displayName,\r\n    createdAt,\r\n    content,\r\n    likesCount,\r\n  }) => {\r\n    const [contentState, setContentState] = useState(content);\r\n    // const myId = useSelector((state) => state.auth.user.uid);\r\n    const myId = auth.currentUser.uid;\r\n    const postRef = firestore.doc(`users/${authorId}/posts/${postId}`);\r\n    const likesRef = postRef.collection('likes').doc(myId);\r\n    const [heartDoc] = useDocument(likesRef);\r\n    const [likes, setLikes] = useState(likesCount);\r\n    // Create a user-to-post relationship\r\n    const addHeart = async () => {\r\n      const uid = myId;\r\n      const batch = firestore.batch();\r\n\r\n      batch.update(postRef, { likesCount: increment(1) });\r\n      batch.set(likesRef, { uid });\r\n      await batch.commit();\r\n      setLikes(likes + 1);\r\n    };\r\n\r\n    // Remove a user-to-post relationship\r\n    const removeHeart = async () => {\r\n      const batch = firestore.batch();\r\n\r\n      batch.update(postRef, { likesCount: increment(-1) });\r\n      batch.delete(likesRef);\r\n\r\n      await batch.commit();\r\n      setLikes(likes - 1);\r\n    };\r\n    // const handleLike = () => {};\r\n    // const handleComment = () => {};\r\n    const [updateMode, setUpdateMode] = useState(false);\r\n    const [deleted, setDeleted] = useState(false);\r\n    const [dirty, setDirty] = useState(false);\r\n    const [expand, setExpand] = useState(false);\r\n\r\n    const handleDelete = () => {\r\n      //yes or no\r\n      // yes\r\n      const confirmBox = window.confirm(\r\n        'Do you really want to delete this post?'\r\n      );\r\n      if (confirmBox === true) {\r\n        postRef\r\n          .delete()\r\n          .then((res) => {\r\n            toast('Post deleted ', { icon: '🗑️' });\r\n          })\r\n          .catch((err) => {\r\n            toast.error('Error occurred', { icon: '❌' });\r\n          });\r\n\r\n        setDeleted(true);\r\n      }\r\n    };\r\n    const handleSave = () => {\r\n      //yes or no\r\n      postRef\r\n        .update({\r\n          content: contentRef.current.innerHTML,\r\n          updatedAt: serverTimestamp(),\r\n        })\r\n        .then((res) => {\r\n          setContentState(contentRef.current.innerHTML);\r\n          toast.success('Post updated successfully!');\r\n        });\r\n      setUpdateMode(false);\r\n      toggleDropDown();\r\n    };\r\n    const handleCancel = () => {\r\n      contentRef.current.innerHTML = contentState;\r\n      setUpdateMode(false);\r\n      toggleDropDown();\r\n    };\r\n\r\n    const toggleDropDown = () => {\r\n      setExpand(!expand);\r\n    };\r\n    const turnOnUpdateMode = () => {\r\n      setUpdateMode(true);\r\n      contentRef.current.focus();\r\n    };\r\n    let contentRef = useRef(null);\r\n    return (\r\n      <PostItemContainer deleted={deleted}>\r\n        <PostItemHeaderContainer>\r\n          <PostItemHeaderWrapper>\r\n            <PostItemHeaderProfile>\r\n              <PostItemHeaderAvt to={`/user/${authorId}`}>\r\n                <Avatar src={avtUrl} size='30' padding='1' />\r\n              </PostItemHeaderAvt>\r\n              <PostHeaderNameAndTime>\r\n                <PostItemHeaderName to={`/user/${authorId}`}>\r\n                  {displayName}\r\n                </PostItemHeaderName>\r\n                <PostItemHeaderTime>{createdAt || 0}</PostItemHeaderTime>\r\n              </PostHeaderNameAndTime>\r\n              <NickName to={`/user/${authorId}`}>{nickname}</NickName>\r\n            </PostItemHeaderProfile>\r\n\r\n            <PostItemHeaderOptions>\r\n              {myId === authorId && (\r\n                <DropDown\r\n                  handleDelete={handleDelete}\r\n                  turnOnUpdateMode={turnOnUpdateMode}\r\n                  handleCancel={handleCancel}\r\n                  handleSave={handleSave}\r\n                  expand={expand}\r\n                  toggleDropDown={toggleDropDown}\r\n                />\r\n              )}\r\n            </PostItemHeaderOptions>\r\n          </PostItemHeaderWrapper>\r\n        </PostItemHeaderContainer>\r\n\r\n        <PostItemBodyContainer>\r\n          <PostItemBodyWrapper\r\n            contentEditable={updateMode}\r\n            updateMode={updateMode}\r\n            dangerouslySetInnerHTML={{ __html: contentState }}\r\n            ref={(node) => (contentRef.current = node)}\r\n            onKeyDown={(e) => {\r\n              if (contentRef.current.innerHTML !== content) {\r\n                setDirty(true);\r\n              } else {\r\n                setDirty(false);\r\n              }\r\n            }}\r\n          ></PostItemBodyWrapper>\r\n        </PostItemBodyContainer>\r\n        <PostItemFooterContainer>\r\n          <PostItemFooterWrapper>\r\n            <LikeButton>\r\n              <span>{likes}</span>\r\n              {heartDoc?.exists ? (\r\n                <span onClick={removeHeart}>💔</span>\r\n              ) : (\r\n                <span onClick={addHeart}>❤️</span>\r\n              )}\r\n              {/* <p>Like</p> */}\r\n            </LikeButton>\r\n            {/* <CommentButton onClick={handleComment}>\r\n              <span>{commentsCount}</span>\r\n              <span>🤡</span>\r\n              <p>Comment</p>\r\n            </CommentButton> */}\r\n            {updateMode && dirty && (\r\n              <SaveButton onClick={handleSave}>SavePost</SaveButton>\r\n            )}\r\n          </PostItemFooterWrapper>\r\n        </PostItemFooterContainer>\r\n      </PostItemContainer>\r\n    );\r\n  }\r\n);\r\n\r\nexport default PostItem;\r\n","import PostItem from '../pages/homepage/PostItem';\r\n\r\nexport function timeSince(date) {\r\n  var seconds = Math.floor((new Date() - date) / 1000);\r\n\r\n  var interval = seconds / 31536000;\r\n\r\n  if (interval > 1) {\r\n    return Math.floor(interval) + 'y';\r\n  }\r\n  interval = seconds / 2592000;\r\n  if (interval > 1) {\r\n    return Math.floor(interval) + ' months';\r\n  }\r\n  interval = seconds / 86400;\r\n  if (interval > 1) {\r\n    return Math.floor(interval) + 'd';\r\n  }\r\n  interval = seconds / 3600;\r\n  if (interval > 1) {\r\n    return Math.floor(interval) + 'h';\r\n  }\r\n  interval = seconds / 60;\r\n  if (interval > 1) {\r\n    return Math.floor(interval) + 'm';\r\n  }\r\n  if (seconds < 1) {\r\n    return 'Just now';\r\n  }\r\n  return Math.floor(seconds) + 's';\r\n}\r\n\r\nexport function docToPostItem(doc) {\r\n  const { author, content, createdAt, likesCount, commentsCount } = doc.data();\r\n  const createdBy = '@' + author.email.split('@')[0];\r\n  const createdSince = createdAt ? timeSince(createdAt.toDate()) : 'loading...';\r\n  return (\r\n    <PostItem\r\n      nickname={createdBy}\r\n      authorId={author.uid}\r\n      key={doc.id}\r\n      postId={doc.id}\r\n      avtUrl={author.photoURL}\r\n      displayName={author.displayName}\r\n      content={content}\r\n      createdAt={createdSince}\r\n      likesCount={likesCount}\r\n      commentsCount={commentsCount}\r\n    />\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Avatar from '../../components/Avatar';\r\nimport { firestore, serverTimestamp } from '../../lib/firebase';\r\nimport {\r\n  NewPostContainer,\r\n  NewPostWrapper,\r\n  NewPostHeaderContainer,\r\n  NewPostHeaderWrapper,\r\n  NewPostHeaderNameAndPublic,\r\n  NewPostHeaderName,\r\n  NewPostHeaderPublicOrNot,\r\n  NewPostBodyContainer,\r\n  NewPostButtons,\r\n  NewPostFooterPost,\r\n  NewPostFooterCancel,\r\n  NewPostBodyWrapper,\r\n} from './NewPostElements';\r\nimport PostItem from './PostItem';\r\nimport { timeSince } from '../../lib/helper';\r\nimport { PostsListContainer } from './PostElements';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst NewPost = ({ me }) => {\r\n  const handlePost = () => {\r\n    const content = inputRef.innerHTML;\r\n    if (content.trim() !== '') {\r\n      const post = {\r\n        content: content,\r\n        createdAt: serverTimestamp(),\r\n        likesCount: 0,\r\n        commentCount: 0,\r\n        public: true,\r\n        author: me,\r\n        updatedAt: serverTimestamp(),\r\n      };\r\n      firestore\r\n        .collection(`users/${me.uid}/posts`)\r\n        .add(post)\r\n        .then((res) => {\r\n          setNewPosts([\r\n            { ...post, createdAt: new Date(), id: res.id },\r\n            ...newPosts,\r\n          ]);\r\n          toast.success('Post published successfully!');\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          toast.error('Post was not pubished!');\r\n        });\r\n\r\n      inputRef.focus();\r\n      inputRef.textContent = '';\r\n    }\r\n  };\r\n  const handleCancel = () => {\r\n    inputRef.textContent = '';\r\n  };\r\n  let inputRef = null;\r\n  const { photoURL, displayName } = me;\r\n  const [newPosts, setNewPosts] = useState([]);\r\n  return (\r\n    <>\r\n      <NewPostContainer>\r\n        <NewPostWrapper>\r\n          <NewPostHeaderContainer>\r\n            <NewPostHeaderWrapper>\r\n              <Avatar src={photoURL} size={35} padding={1}></Avatar>\r\n              <NewPostHeaderNameAndPublic>\r\n                <NewPostHeaderName>{displayName}</NewPostHeaderName>\r\n                <NewPostHeaderPublicOrNot>Public</NewPostHeaderPublicOrNot>\r\n              </NewPostHeaderNameAndPublic>\r\n              <NewPostButtons>\r\n                <NewPostFooterPost onClick={handlePost}>Post</NewPostFooterPost>\r\n                <NewPostFooterCancel onClick={handleCancel}>\r\n                  Cancel\r\n                </NewPostFooterCancel>\r\n              </NewPostButtons>\r\n            </NewPostHeaderWrapper>\r\n          </NewPostHeaderContainer>\r\n          <NewPostBodyContainer>\r\n            <NewPostBodyWrapper\r\n              ref={(node) => (inputRef = node)}\r\n              contentEditable='true'\r\n              data-ph='Write a new post...'\r\n            ></NewPostBodyWrapper>\r\n          </NewPostBodyContainer>\r\n        </NewPostWrapper>\r\n      </NewPostContainer>\r\n      <PostsListContainer>\r\n        {newPosts.map((doc) => {\r\n          const { author, content, createdAt, likesCount, commentsCount } = doc;\r\n          const createdBy = '@' + author.email.split('@')[0];\r\n          const createdSince = createdAt ? timeSince(createdAt) : 'loading...';\r\n          return (\r\n            <PostItem\r\n              nickname={createdBy}\r\n              authorId={author.uid}\r\n              key={doc.id}\r\n              postId={doc.id}\r\n              avtUrl={author.photoURL}\r\n              displayName={author.displayName}\r\n              content={content}\r\n              createdAt={createdSince}\r\n              likesCount={likesCount}\r\n              commentsCount={commentsCount}\r\n            />\r\n          );\r\n        })}\r\n      </PostsListContainer>\r\n    </>\r\n  );\r\n};\r\nexport default NewPost;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { fromMillis } from '../../lib/firebase';\r\nimport {\r\n  PostsListContainer,\r\n  PostEndMessage,\r\n  LoadMoreButton,\r\n} from './PostElements';\r\nimport Loading from '../../components/Loading';\r\nimport { docToPostItem } from '../../lib/helper';\r\nconst PostList = ({ postsRef }) => {\r\n  const LIMIT = 10;\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [postsEnd, setPostsEnd] = useState(false);\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchPosts = async () => {\r\n      const postsQuery = postsRef.limit(LIMIT);\r\n      const posts = (await postsQuery.get()).docs;\r\n      setPosts(posts);\r\n      setLoading(false);\r\n    };\r\n    fetchPosts();\r\n  }, [postsRef]);\r\n  const getMorePosts = async () => {\r\n    setLoading(true);\r\n    const last = posts[posts.length - 1].data();\r\n    const cursor =\r\n      typeof last.createdAt === 'number'\r\n        ? fromMillis(last.createdAt)\r\n        : last.createdAt;\r\n\r\n    const query = postsRef.startAfter(cursor).limit(LIMIT);\r\n\r\n    const newPosts = (await query.get()).docs;\r\n\r\n    setPosts(posts.concat(newPosts));\r\n    setLoading(false);\r\n\r\n    if (newPosts.length < LIMIT) {\r\n      setPostsEnd(true);\r\n    }\r\n  };\r\n  if (posts) {\r\n    return (\r\n      <>\r\n        <PostsListContainer>\r\n          {posts.map(docToPostItem)}\r\n          {!loading && !postsEnd && (\r\n            <LoadMoreButton onClick={getMorePosts}>\r\n              {' '}\r\n              Load more posts\r\n            </LoadMoreButton>\r\n          )}\r\n          {loading && <Loading />}\r\n          {postsEnd && (\r\n            <PostEndMessage>You have reached the end!</PostEndMessage>\r\n          )}\r\n        </PostsListContainer>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default PostList;\r\n","import React from 'react';\r\nimport { firestore } from '../../lib/firebase';\r\nimport { NewFeedContainer } from './NewFeedElements';\r\nimport NewPost from './NewPost';\r\nimport PostList from './PostList';\r\nconst NewFeed = ({ me }) => {\r\n  return (\r\n    <NewFeedContainer>\r\n      <NewPost me={me} />\r\n      <PostList\r\n        postsRef={firestore\r\n          .collectionGroup('posts')\r\n          .orderBy('createdAt', 'desc')}\r\n      />\r\n    </NewFeedContainer>\r\n  );\r\n};\r\n\r\nexport default NewFeed;\r\n","import React from 'react';\r\n// import { useAuthState } from 'react-firebase-hooks/auth';\r\n// import { useSelector } from 'react-redux';\r\nimport Loading from '../../components/Loading';\r\n// import { auth } from '../../lib/firebase';\r\nimport NavBar from './NavBar';\r\nimport NewFeed from './NewFeed';\r\n\r\nconst HomePage = ({ user }) => {\r\n  // const me = useSelector((state) => state.auth.user);\r\n  // if (loading) return <Loading />;\r\n  if (!user) return <Loading />;\r\n  // else\r\n\r\n  const me = {\r\n    uid: user.uid,\r\n    displayName: user.displayName,\r\n    photoURL: user.photoURL,\r\n    email: user.email,\r\n  };\r\n  return (\r\n    <div>\r\n      <NavBar me={me} />\r\n      <NewFeed me={me} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AiTwotoneMail, AiOutlineGithub } from 'react-icons/ai';\r\nimport { RiLockPasswordFill } from 'react-icons/ri';\r\nimport { FaFacebook } from 'react-icons/fa';\r\nimport { FcGoogle } from 'react-icons/fc';\r\nimport {\r\n  ButtonsContainer,\r\n  ForgotPasswordLink,\r\n  FormFieldsContainer,\r\n  Heading,\r\n  Image,\r\n  InputContainer,\r\n  InputText,\r\n  LoginForm,\r\n  LoginFormContainer,\r\n  SocialLink,\r\n  SocialLinksContainer,\r\n  LoginSubmitButton,\r\n  Subtitle,\r\n  SignUpButton,\r\n} from './elements';\r\nimport { auth, googleAuthProvider } from '../../lib/firebase';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signIn } from '../../features/auth/authSlice';\r\nimport Loading from '../../components/Loading';\r\n// const imgSrc = require('../../images/login.svg').default;\r\nimport imgSrc from '../../images/login.svg';\r\n\r\nconst Login = () => {\r\n  const [user, loading, error] = useAuthState(auth);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const handleSignInWithGoogle = async () => {\r\n    await auth.signInWithPopup(googleAuthProvider);\r\n    dispatch(signIn());\r\n  };\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [wrong, setWrong] = useState(false);\r\n  if (loading) {\r\n    return <Loading></Loading>;\r\n  }\r\n  if (error) {\r\n    return <h1>Error</h1>;\r\n  }\r\n  if (!loading && user) {\r\n    history.push('/');\r\n  }\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    auth\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then((userCredential) => {\r\n        // Signed in\r\n        const user = userCredential.user;\r\n        dispatch(signIn(user));\r\n        console.log(user);\r\n      })\r\n      .catch((error) => {\r\n        setWrong(true);\r\n      });\r\n  };\r\n  return (\r\n    <div>\r\n      <LoginFormContainer>\r\n        <Image src={imgSrc}></Image>\r\n        <LoginForm onSubmit={handleLogin}>\r\n          <Image></Image>\r\n          <Heading>Welcome to ALOIDAIK social media</Heading>\r\n          <FormFieldsContainer>\r\n            <InputContainer>\r\n              <Subtitle>\r\n                <AiTwotoneMail />\r\n              </Subtitle>\r\n              <InputText\r\n                placeholder='email'\r\n                type='email'\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n              ></InputText>\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Subtitle>\r\n                <RiLockPasswordFill />\r\n              </Subtitle>\r\n              <InputText\r\n                placeholder='password'\r\n                type='password'\r\n                value={password}\r\n                onChange={(e) => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n              ></InputText>\r\n            </InputContainer>\r\n            <ButtonsContainer>\r\n              <LoginSubmitButton type='submit'>Sign in</LoginSubmitButton>\r\n              <SignUpButton to='/signup'>Sign up</SignUpButton>\r\n            </ButtonsContainer>\r\n            <ForgotPasswordLink to='/auth/forgot'>\r\n              ? Forgot Password\r\n            </ForgotPasswordLink>\r\n            {wrong && <p>Wrong email or password</p>}\r\n          </FormFieldsContainer>\r\n          <SocialLinksContainer>\r\n            <SocialLink href='/github' onClick={() => console.log('gh')}>\r\n              <AiOutlineGithub />\r\n            </SocialLink>\r\n            <SocialLink href='/fb'>\r\n              <FaFacebook />\r\n            </SocialLink>\r\n            <SocialLink href='/gg' onClick={handleSignInWithGoogle}>\r\n              <FcGoogle />\r\n            </SocialLink>\r\n          </SocialLinksContainer>\r\n        </LoginForm>\r\n      </LoginFormContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport { useDocumentDataOnce } from 'react-firebase-hooks/firestore';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Avatar from '../../components/Avatar';\r\nimport Loading from '../../components/Loading';\r\nimport { firestore } from '../../lib/firebase';\r\nimport { NewFeedContainer } from '../homepage/NewFeedElements';\r\nimport PostList from '../homepage/PostList';\r\n\r\nconst ProfilePage = ({ match }) => {\r\n  const { uid } = match.params;\r\n  const [user, loading, error] = useDocumentDataOnce(\r\n    firestore.doc(`users/${uid}`)\r\n  );\r\n  if (loading) return <Loading />;\r\n  if (!user || error) return <Redirect to='/notfound/404' />;\r\n\r\n  return (\r\n    <NewFeedContainer>\r\n      <Avatar src={user.photoURL} size='150' />\r\n      <h3>{user.displayName}</h3>\r\n      <h4>@{user.email.split('@')[0]}</h4>\r\n      <PostList\r\n        postsRef={firestore\r\n          .collection(`users/${uid}/posts`)\r\n          .where('public', '==', true)}\r\n      />\r\n    </NewFeedContainer>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nexport const MessagePageContainer = styled.div`\r\n  width: 100%;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const NavBarContainer = styled.nav`\r\n  width: 100%;\r\n  height: 50px;\r\n  background-color: white;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nexport const MessageSectionWrapper = styled.main`\r\n  /* margin: auto; */\r\n  flex-grow: 1;\r\n  flex-shrink: 0;\r\n  display: flex;\r\n  min-height: 0;\r\n  min-width: 700px;\r\n  overflow: auto;\r\n  max-width: 70vw;\r\n`;\r\n\r\n// chat list\r\nexport const ChatListContainer = styled.nav`\r\n  min-width: 23%;\r\n  border-right: 1px solid #dbdbdb;\r\n  border-left: 1px solid #dbdbdb;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  flex: 0 1 0;\r\n  background-color: #fff;\r\n`;\r\n\r\nexport const ChatListHeader = styled.header`\r\n  width: 100%;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  max-height: 10vh;\r\n`;\r\nexport const ChatListHeaderWrapper = styled.header`\r\n  text-align: center;\r\n  padding: 10px;\r\n  font-size: 1.5em;\r\n  font-weight: 510;\r\n`;\r\nexport const ChatListSearchBar = styled.div`\r\n  width: 100%;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  padding: 10px;\r\n  max-height: 10vh;\r\n`;\r\nexport const ChatListSearchBarWrapper = styled.input`\r\n  font-size: 1em;\r\n  font-weight: 510;\r\n`;\r\nexport const ListContactsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  flex: 1;\r\n  max-height: 80vh;\r\n`;\r\n\r\nexport const ListContactsWrapper = styled.div`\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\n\r\nexport const ContactItemContainer = styled.div`\r\n  width: 100%;\r\n  height: 70px;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  &:hover {\r\n    background: gray;\r\n  }\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nexport const ContactItemWrapper = styled(Link)`\r\n  flex: 1;\r\n  padding: 0px 2px;\r\n  user-select: none;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-content: flex-start;\r\n`;\r\n\r\nexport const UserAvt = styled.div`\r\n  align-self: flex-start;\r\n  border-radius: 50%;\r\n  /* border: 1px solid; */\r\n  width: 50px;\r\n  height: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const NameAndLastMessage = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`;\r\nexport const UserName = styled.div`\r\n  font-size: 1em;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const HistoryLastMessage = styled.span`\r\n  white-space: nowrap;\r\n\r\n  font-size: 0.9em;\r\n  font-weight: 400;\r\n`;\r\n// ib part\r\nexport const InboxContainer = styled.div`\r\n  flex: 1 0 75%;\r\n  max-width: 75vw;\r\n  width: 75vw;\r\n  background-color: gray;\r\n  display: flex;\r\n  height: 100%;\r\n  min-width: 550px;\r\n  overflow: auto;\r\n  background: #fff;\r\n`;\r\nexport const InboxWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-around;\r\n  height: 100%;\r\n  min-height: 0;\r\n  width: 100%;\r\n  /* overflow-y: hidden; */\r\n`;\r\n\r\n// header: avt, name, ...\r\nexport const InboxHeaderContainer = styled.header`\r\n  min-width: 100%;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  border-right: 1px solid #dbdbdb;\r\n  background-color: white;\r\n  flex: 1 0 50px;\r\n`;\r\nexport const InboxHeaderWrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const InboxHeaderAvt = styled.div`\r\n  margin: 10px;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n`;\r\nexport const InboxHeaderNameAndStatus = styled.div`\r\n  margin-right: 10px;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const InboxHeaderName = styled.h5`\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport const InboxHeaderStatus = styled.p`\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\n// inbox body part\r\n\r\nexport const InboxBodyContainer = styled.div`\r\n  display: flex;\r\n  background-color: white;\r\n  border-bottom: 1px solid #dbdbdb;\r\n  border-right: 1px solid #dbdbdb;\r\n  width: 100%;\r\n  flex: 1 0 0px;\r\n  min-height: 80vh;\r\n  padding-bottom: 7px;\r\n`;\r\nexport const InboxBodyWrapper = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  /* margin: 0 10px; // WARMIMG */\r\n  /* flex-flow: column wrap; */\r\n  align-items: flex-start;\r\n  /* flex-wrap: wrap; */\r\n  flex-direction: column-reverse;\r\n  overflow: auto;\r\n  padding: 0 10px;\r\n`;\r\n\r\nexport const MessageItemWrapper = styled.div`\r\n  border-radius: 1rem;\r\n  padding: 0.4rem 0.7rem;\r\n  margin: 0.0625rem;\r\n  max-width: 45%;\r\n  overflow-wrap: break-word;\r\n  max-width: 300px;\r\n`;\r\n\r\nexport const MyMessageItemsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex-flow: column wrap;\r\n  align-self: flex-end;\r\n`;\r\nexport const MyMessageItem = styled(MessageItemWrapper)`\r\n  align-self: flex-end;\r\n  background-color: #efefef;\r\n  margin-right: 0.5rem;\r\n`;\r\nexport const MyMessageItemFirst = styled(MyMessageItem)`\r\n  border-bottom-right-radius: 0.1em;\r\n`;\r\nexport const MyMessageItemLast = styled(MyMessageItem)`\r\n  border-top-right-radius: 0.1em;\r\n`;\r\nexport const MyMessageItemMiddle = styled(MyMessageItem)`\r\n  border-bottom-right-radius: 0.1em;\r\n  border-top-right-radius: 0.1em;\r\n`;\r\n\r\nexport const YourMessageItemsContainer = styled.div`\r\n  display: flex;\r\n  gap: 6px;\r\n  min-width: 200px;\r\n  /* flex-direction: column; */\r\n`;\r\n\r\nexport const YourMessageAvt = styled.div`\r\n  max-width: 60px;\r\n  align-self: flex-end;\r\n  /* border-radius: 50%;\r\n  border: solid 1px #dbdbdb; */\r\n`;\r\n\r\nexport const YourMessageItemsWrapper = styled.div`\r\n  flex: 1 1 0%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  /* flex-flow: column wrap; */\r\n`;\r\nexport const YourNameTag = styled.div`\r\n  padding-left: 3.5px;\r\n  font-size: 0.9rem;\r\n  color: gray;\r\n  font-style: bold;\r\n`;\r\n\r\nexport const YourMessageItem = styled(MessageItemWrapper)`\r\n  align-self: flex-start;\r\n  background-color: cornflowerblue;\r\n  color: #fff;\r\n  background-image: linear-gradient(\r\n    rgba(24, 201, 255, 1),\r\n    rgba(5, 230, 195, 1)\r\n  );\r\n  background-size: 200% 200%;\r\n  background-attachment: local;\r\n`;\r\nexport const YourMessageItemFirst = styled(YourMessageItem)`\r\n  border-bottom-left-radius: 0.1em;\r\n`;\r\nexport const YourMessageItemLast = styled(YourMessageItem)`\r\n  border-top-left-radius: 0.1em;\r\n`;\r\nexport const YourMessageItemMiddle = styled(YourMessageItem)`\r\n  border-bottom-left-radius: 0.1em;\r\n  border-top-left-radius: 0.1em;\r\n`;\r\n// send message part\r\nexport const SendMessageContainer = styled.div`\r\n  flex: 2;\r\n  max-height: 30vh;\r\n  min-width: 100%;\r\n  background-color: white;\r\n  display: flex;\r\n  height: auto;\r\n  justify-content: center;\r\n  background: white;\r\n  max-width: 75vw;\r\n  border-right: 1px solid #dbdbdb;\r\n`;\r\nexport const SendMessageWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nexport const GroupButtonsOfOptions = styled.div`\r\n  margin: 0 10px;\r\n  display: flex;\r\n  min-width: 20px;\r\n  gap: 10px;\r\n  align-items: space-between;\r\n  justify-content: center;\r\n`;\r\nexport const Option = styled.div`\r\n  font-size: 1.4rem;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  &:hover {\r\n    box-shadow: 0 0 4px gray;\r\n  }\r\n`;\r\n\r\nexport const SendMessageForm = styled.form`\r\n  flex: 1;\r\n  display: flex;\r\n`;\r\nexport const SendMessageInput = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px 12px;\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n  border-radius: 20px;\r\n  border: 1px solid #dbdbdb;\r\n  overflow-wrap: break-word;\r\n  word-break: break-word;\r\n  height: 40px;\r\n  max-height: 15vh;\r\n  overflow: auto;\r\n  flex: 1;\r\n  font-size: 1.1rem;\r\n  pointer-events: auto;\r\n  line-height: 1.1;\r\n  white-space: pre-wrap;\r\n  direction: ltr;\r\n  &:empty:not(:focus):before {\r\n    font-size: 1rem;\r\n    content: attr(data-ph);\r\n    color: grey;\r\n    font-style: bold;\r\n  }\r\n`;\r\n\r\nexport const SendMessageSubmitWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nexport const SendMessageSubmit = styled.button`\r\n  background-color: pink;\r\n  padding: 5px 15px;\r\n  border-radius: 10%;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 1.1rem;\r\n  font-style: bold;\r\n  background-size: 100% 100%;\r\n  color: white;\r\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\r\n  background-image: linear-gradient(\r\n    to right,\r\n    #895cf2 0%,\r\n    #ffabf4 50%,\r\n    #895cf2 100%\r\n  );\r\n  transition: 1s;\r\n  &:hover {\r\n    background-position: right center;\r\n  }\r\n  max-width: 100px;\r\n  max-height: 100px;\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Avatar from '../../components/Avatar';\r\nimport Loading from '../../components/Loading';\r\nimport { auth, firestore } from '../../lib/firebase';\r\n\r\nconst NameAndEmailTag = styled(Link)`\r\n  flex: 1;\r\n  text-decoration: none;\r\n  color: inherit;\r\n  display: flex;\r\n  align-items: center;\r\n  /* justify-content: center; */\r\n  margin: 10px;\r\n  gap: 10px;\r\n`;\r\nconst Avt = styled.div`\r\n  max-width: 50px;\r\n`;\r\n\r\nconst Test = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n`;\r\nconst SuggestUser = () => {\r\n  const [users, setUsers] = useState([]);\r\n  //   const uid = useSelector((state) => state.auth.user.uid);\r\n  const uid = auth.currentUser.uid;\r\n  useEffect(() => {\r\n    const getSuggestUsers = async () => {\r\n      const usersRef = firestore.collection('users');\r\n      const users = (await usersRef.get()).docs.map((doc) => {\r\n        return { id: doc.id, ...doc.data() };\r\n      });\r\n      setUsers(users);\r\n    };\r\n    getSuggestUsers();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <h3>Suggest List</h3>\r\n      {users.length > 0 ? (\r\n        users\r\n          .filter((doc) => doc.id !== uid)\r\n          .map((doc) => (\r\n            <NameAndEmailTag to={`/message/t/${doc.id}`}>\r\n              <Avt>\r\n                <Avatar src={doc.photoURL} size='30' />\r\n              </Avt>\r\n              <Test>\r\n                <p>{doc.displayName}</p>\r\n                <p>@{doc.email.split('@')[0]}</p>\r\n              </Test>\r\n            </NameAndEmailTag>\r\n          ))\r\n      ) : (\r\n        <Loading />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuggestUser;\r\n","import {\r\n  ChatListContainer,\r\n  ChatListHeaderWrapper,\r\n  ChatListHeader,\r\n  ChatListSearchBarWrapper,\r\n  ChatListSearchBar,\r\n  ListContactsContainer,\r\n  ListContactsWrapper,\r\n  ContactItemContainer,\r\n  ContactItemWrapper,\r\n  UserAvt,\r\n  UserName,\r\n  NameAndLastMessage,\r\n  HistoryLastMessage,\r\n} from './elements';\r\nimport { memo } from 'react';\r\nimport { firestore } from '../../lib/firebase';\r\nimport { useCollection } from 'react-firebase-hooks/firestore';\r\nimport Loading from '../../components/Loading';\r\nimport styled from 'styled-components';\r\nimport Avatar from '../../components/Avatar';\r\nimport SuggestUser from '../suggests/SuggestUser';\r\nimport { useSelector } from 'react-redux';\r\nconst NotFound = styled.div`\r\n  align-self: flex-start;\r\n  text-align: center;\r\n  justify-content: center;\r\n  /* margin: auto; */\r\n`;\r\n\r\nconst ChatHistory = memo(() => {\r\n  console.log('render chat history');\r\n  const me = useSelector((state) => state.auth.user);\r\n  const messagesRef = firestore.collection('chats');\r\n  const historyChatQuery = messagesRef\r\n    .where('members', 'array-contains', me.uid)\r\n    .orderBy('lastUpdated', 'desc');\r\n  const [historyChat, loading, error] = useCollection(historyChatQuery);\r\n  if (loading) return <Loading />;\r\n  if (error) {\r\n    return <h1>Error!!!</h1>;\r\n  }\r\n\r\n  const listHistory = historyChat.docs.length ? (\r\n    historyChat.docs.map((doc) => {\r\n      const h = doc.data();\r\n      const you = h.members[0] === me.uid ? h.members[1] : h.members[0];\r\n      const linkTo = `/message/t/${you}`;\r\n      const { photoURL, displayName } = h.roomInfo[you];\r\n      const prefix =\r\n        h.lastMessage.from === me.uid\r\n          ? 'You: '\r\n          : `${displayName.split(' ')[0]}: `;\r\n      const lastMessage = prefix + h.lastMessage.content;\r\n      const dotMess =\r\n        lastMessage.length > 25\r\n          ? lastMessage.substring(0, 25) + '...'\r\n          : lastMessage;\r\n\r\n      return (\r\n        <ContactItemContainer key={you}>\r\n          <ContactItemWrapper to={linkTo}>\r\n            <UserAvt>\r\n              <Avatar src={photoURL} size='35' round='true' />\r\n            </UserAvt>\r\n            <NameAndLastMessage>\r\n              <UserName>{displayName}</UserName>\r\n              <HistoryLastMessage>{dotMess}</HistoryLastMessage>\r\n            </NameAndLastMessage>\r\n          </ContactItemWrapper>\r\n        </ContactItemContainer>\r\n      );\r\n    })\r\n  ) : (\r\n    <NotFound>\r\n      <SuggestUser />\r\n    </NotFound>\r\n  );\r\n  return (\r\n    <ChatListContainer>\r\n      <ChatListHeader>\r\n        <ChatListHeaderWrapper>Contacts</ChatListHeaderWrapper>\r\n      </ChatListHeader>\r\n      <ChatListSearchBar>\r\n        <ChatListSearchBarWrapper></ChatListSearchBarWrapper>\r\n      </ChatListSearchBar>\r\n      <ListContactsContainer>\r\n        {listHistory}\r\n        <ListContactsWrapper></ListContactsWrapper>\r\n      </ListContactsContainer>\r\n    </ChatListContainer>\r\n  );\r\n});\r\nexport default ChatHistory;\r\n","import React from 'react';\r\nimport { NavBarContainer } from './elements';\r\n\r\nimport styled from 'styled-components';\r\nimport { Link } from 'react-router-dom';\r\nimport { ALOIDAIKLogo } from '../homepage/NavBarElements';\r\n\r\nconst NavBarWrapper = styled.div`\r\n  margin: auto;\r\n  width: 100%;\r\n  max-width: 975px;\r\n  height: 54px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nexport const LogoContainer = styled(Link)`\r\n  /* cursor: inherit; */\r\n  color: inherit;\r\n\r\n  text-decoration: none;\r\n  flex: 1 1 0%;\r\n  min-width: 40px;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: baseline;\r\n`;\r\nexport const BrandLogo = styled.img`\r\n  cursor: pointer;\r\n  height: 50%;\r\n  width: 160px;\r\n`;\r\n\r\nexport const MsgLogo = styled(ALOIDAIKLogo)`\r\n  text-align: left;\r\n  font-size: 2rem;\r\n`;\r\n\r\nconst NavBarSection = () => {\r\n  return (\r\n    <NavBarContainer>\r\n      <NavBarWrapper>\r\n        <LogoContainer to='/'>\r\n          \r\n          <MsgLogo>ALOIDAIK</MsgLogo>\r\n        </LogoContainer>\r\n      </NavBarWrapper>\r\n    </NavBarContainer>\r\n  );\r\n};\r\n\r\nexport default NavBarSection;\r\n","import { docToJson } from '../../lib/firebase';\r\nimport { BsFillPlusCircleFill } from 'react-icons/bs';\r\nimport { IoMdPhotos } from 'react-icons/io';\r\nimport { GiFallingStar } from 'react-icons/gi';\r\nimport {\r\n  GroupButtonsOfOptions,\r\n  InboxBodyContainer,\r\n  InboxBodyWrapper,\r\n  InboxContainer,\r\n  InboxHeaderContainer,\r\n  InboxHeaderWrapper,\r\n  InboxWrapper,\r\n  MyMessageItem,\r\n  MyMessageItemFirst,\r\n  MyMessageItemLast,\r\n  MyMessageItemMiddle,\r\n  MyMessageItemsContainer,\r\n  Option,\r\n  SendMessageContainer,\r\n  SendMessageForm,\r\n  SendMessageInput,\r\n  SendMessageSubmit,\r\n  SendMessageSubmitWrapper,\r\n  SendMessageWrapper,\r\n  YourMessageAvt,\r\n  YourMessageItem,\r\n  YourMessageItemFirst,\r\n  YourMessageItemLast,\r\n  YourMessageItemMiddle,\r\n  YourMessageItemsContainer,\r\n  YourMessageItemsWrapper,\r\n  InboxHeaderName,\r\n  InboxHeaderAvt,\r\n  InboxHeaderNameAndStatus,\r\n  InboxHeaderStatus,\r\n  YourNameTag,\r\n} from './elements';\r\nimport { firestore, serverTimestamp } from '../../lib/firebase';\r\nimport { useCollection } from 'react-firebase-hooks/firestore';\r\nimport { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useEffect } from 'react';\r\nimport { nanoid } from '@reduxjs/toolkit';\r\nimport Avatar from '../../components/Avatar';\r\n\r\nconst transformMessages = (ms) => {\r\n  const messages = ms.slice(0).reverse();\r\n\r\n  let temp = [messages[0]];\r\n  let result = [];\r\n  let searching = messages[0].from;\r\n  for (let i = 1; i < messages.length; i++) {\r\n    if (messages[i].from === searching) {\r\n      temp.push(messages[i]);\r\n    } else {\r\n      result.push(temp);\r\n      searching = messages[i].from;\r\n      temp = [messages[i]];\r\n    }\r\n  }\r\n  result.push(temp);\r\n\r\n  return result;\r\n};\r\nconst renderSequenceChat = (myId, photo, yourName, chats) => {\r\n  const isMe = myId === chats[0].from;\r\n  let content = '';\r\n  if (isMe) {\r\n    // render wa tao\r\n\r\n    if (chats.length === 1) {\r\n      content = (\r\n        <MyMessageItem key={nanoid()}>{chats[0].content}</MyMessageItem>\r\n      );\r\n    } else if (chats.length === 2) {\r\n      content = (\r\n        <>\r\n          <MyMessageItemFirst key={nanoid()}>\r\n            {chats[0].content}\r\n          </MyMessageItemFirst>\r\n          <MyMessageItemLast key={nanoid()}>\r\n            {chats[1].content}\r\n          </MyMessageItemLast>\r\n        </>\r\n      );\r\n    } else if (chats.length > 2) {\r\n      content = (\r\n        <>\r\n          <MyMessageItemFirst key={nanoid()}>\r\n            {chats[0].content}\r\n          </MyMessageItemFirst>\r\n          {chats.slice(1, chats.length - 1).map((m) => (\r\n            <MyMessageItemMiddle key={nanoid()}>\r\n              {m.content}\r\n            </MyMessageItemMiddle>\r\n          ))}\r\n          <MyMessageItemLast key={nanoid()}>\r\n            {chats[chats.length - 1].content}\r\n          </MyMessageItemLast>\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <MyMessageItemsContainer key={nanoid()}>\r\n        {content}\r\n      </MyMessageItemsContainer>\r\n    );\r\n  } else {\r\n    // render wa may\r\n    if (chats.length === 1) {\r\n      content = (\r\n        <YourMessageItem key={nanoid()}>{chats[0].content}</YourMessageItem>\r\n      );\r\n    } else if (chats.length === 2) {\r\n      content = (\r\n        <>\r\n          <YourMessageItemFirst key={nanoid()}>\r\n            {chats[0].content}\r\n          </YourMessageItemFirst>\r\n          <YourMessageItemLast key={nanoid()}>\r\n            {chats[1].content}\r\n          </YourMessageItemLast>\r\n        </>\r\n      );\r\n    } else if (chats.length > 2) {\r\n      content = (\r\n        <>\r\n          <YourMessageItemFirst key={nanoid()}>\r\n            {chats[0].content}\r\n          </YourMessageItemFirst>\r\n          {chats.slice(1, chats.length - 1).map((m) => (\r\n            <YourMessageItemMiddle key={nanoid()}>\r\n              {m.content}\r\n            </YourMessageItemMiddle>\r\n          ))}\r\n          <YourMessageItemLast key={nanoid()}>\r\n            {chats[chats.length - 1].content}\r\n          </YourMessageItemLast>\r\n        </>\r\n      );\r\n    }\r\n    return (\r\n      <YourMessageItemsContainer key={nanoid()}>\r\n        <YourMessageAvt key={nanoid()}>\r\n          <Avatar src={photo} size='28' />\r\n        </YourMessageAvt>\r\n        <YourMessageItemsWrapper key={nanoid()}>\r\n          <YourNameTag key={nanoid()}>{yourName}</YourNameTag>\r\n          {content}\r\n        </YourMessageItemsWrapper>\r\n      </YourMessageItemsContainer>\r\n    );\r\n  }\r\n};\r\nconst genChatRoomName = (me, you) => {\r\n  if (me && you) {\r\n    if (me.localeCompare(you) === 0) {\r\n      return `${me}__${me}`;\r\n    } else if (me.localeCompare(you) > 0) {\r\n      return `${me}__${you}`;\r\n    } else {\r\n      return `${you}__${me}`;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nconst SayHi = styled.div`\r\n  user-select: none;\r\n  cursor: pointer;\r\n  margin: auto;\r\n  align-self: center;\r\n  justify-content: center;\r\n  font-size: 2rem;\r\n  font-weight: 600;\r\n`;\r\nconst InboxSection = ({ me, you, messagesInit }) => {\r\n  // const bottomRef = useRef();\r\n  // const scrollToBottom = () => {\r\n  //   bottomRef.current.scrollIntoView({\r\n  //     behavior: 'smooth',\r\n  //     block: 'end',\r\n  //   });\r\n  // };\r\n  const youObject = {\r\n    email: you.email,\r\n    uid: you.uid,\r\n    photoURL: you.photoURL,\r\n    displayName: you.displayName,\r\n  };\r\n\r\n  const { photoURL, displayName } = you;\r\n  const myId = me.uid;\r\n  const yourId = you.uid;\r\n  const chatRoomId = genChatRoomName(me.uid, you.uid);\r\n\r\n  const handleSayHi = async () => {\r\n    const message = {\r\n      from: myId,\r\n      content: 'Hello!',\r\n      createdAt: serverTimestamp(),\r\n    };\r\n    const lastMessage = {\r\n      from: myId,\r\n      content: 'Hello!',\r\n    };\r\n    const data = {\r\n      members: [myId, yourId],\r\n      roomInfo: { [myId]: me, [yourId]: youObject },\r\n      createdAt: serverTimestamp(),\r\n      lastMessage: lastMessage,\r\n      lastUpdated: serverTimestamp(),\r\n    };\r\n    firestore\r\n      .doc(`chats/${chatRoomId}`)\r\n      .set(data)\r\n      .then((res) => console.log(res))\r\n      .catch((err) => console.log(err));\r\n\r\n    firestore\r\n      .collection(`chats/${chatRoomId}/messages`)\r\n      .add(message)\r\n      .then((res) => console.log(res))\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const lastMessageRef = firestore\r\n    .collection(`chats/${chatRoomId}/messages`)\r\n    .orderBy('createdAt', 'desc')\r\n    .limit(1);\r\n  const [lastMessage, loading] = useCollection(lastMessageRef);\r\n\r\n  const [messages, setMessages] = useState(messagesInit);\r\n  const last = lastMessage && lastMessage.docs.map((doc) => docToJson(doc))[0];\r\n  useEffect(() => {\r\n    if (!loading) {\r\n      if (last && last.createdAt) {\r\n        if (messages.length > 0) {\r\n          const lastMsgState = messages[messages.length - 1];\r\n\r\n          if (last.createdAt !== lastMsgState.createdAt) {\r\n            setMessages(messages.concat(last));\r\n          }\r\n        } else {\r\n          setMessages(messages.concat(last));\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [last]);\r\n\r\n  let inputRef = null;\r\n\r\n  const handleSubmit = () => {\r\n    const msg = inputRef.textContent;\r\n    if (msg.trim() !== '') {\r\n      const message = {\r\n        from: myId,\r\n        content: msg + '',\r\n        createdAt: serverTimestamp(),\r\n      };\r\n      const last = {\r\n        from: myId,\r\n        content: msg + '',\r\n      };\r\n      firestore\r\n        .collection(`chats/${chatRoomId}/messages`)\r\n        .add(message)\r\n        .then((res) => console.log(res.id))\r\n        .catch((err) => console.log(err));\r\n      firestore\r\n        .doc(`chats/${chatRoomId}`)\r\n        .update({\r\n          lastMessage: last,\r\n          lastUpdated: serverTimestamp(),\r\n        })\r\n        .then((res) => console.log('oke'))\r\n        .catch((err) => console.log(err));\r\n      inputRef.focus();\r\n      inputRef.textContent = '';\r\n    }\r\n  };\r\n  return (\r\n    <InboxContainer>\r\n      <InboxWrapper>\r\n        <InboxHeaderContainer>\r\n          <InboxHeaderWrapper>\r\n            <InboxHeaderAvt>\r\n              <Avatar size='35' src={photoURL} padding='1' />\r\n            </InboxHeaderAvt>\r\n\r\n            <InboxHeaderNameAndStatus>\r\n              <InboxHeaderName>{displayName}</InboxHeaderName>\r\n\r\n              <InboxHeaderStatus>{'online'}</InboxHeaderStatus>\r\n            </InboxHeaderNameAndStatus>\r\n          </InboxHeaderWrapper>\r\n        </InboxHeaderContainer>\r\n        <InboxBodyContainer>\r\n          <InboxBodyWrapper>\r\n            {messages.length > 0 ? (\r\n              transformMessages(messages).map((m) => {\r\n                return renderSequenceChat(\r\n                  myId,\r\n                  you.photoURL,\r\n                  you.displayName,\r\n                  m.reverse()\r\n                );\r\n              })\r\n            ) : (\r\n              <SayHi onClick={handleSayHi}>\r\n                <p>Say hi! 👋</p>\r\n              </SayHi>\r\n            )}\r\n          </InboxBodyWrapper>\r\n        </InboxBodyContainer>\r\n        <SendMessageContainer>\r\n          <SendMessageWrapper>\r\n            <GroupButtonsOfOptions>\r\n              <Option>\r\n                <BsFillPlusCircleFill></BsFillPlusCircleFill>\r\n              </Option>\r\n              <Option>\r\n                <IoMdPhotos></IoMdPhotos>\r\n              </Option>\r\n              <Option>\r\n                <GiFallingStar></GiFallingStar>\r\n              </Option>\r\n            </GroupButtonsOfOptions>\r\n            <SendMessageForm\r\n              onSubmit={(e) => {\r\n                e.preventDefault();\r\n                handleSubmit();\r\n              }}\r\n            >\r\n              <SendMessageInput\r\n                data-ph='Send a message...'\r\n                contentEditable={true}\r\n                ref={(node) => (inputRef = node)}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter' && !e.shiftKey) {\r\n                    e.preventDefault();\r\n                    handleSubmit();\r\n                  }\r\n                  if (e.key === 'Enter' && e.shiftKey) {\r\n                  }\r\n                }}\r\n              ></SendMessageInput>\r\n              <SendMessageSubmitWrapper>\r\n                <SendMessageSubmit>send</SendMessageSubmit>\r\n              </SendMessageSubmitWrapper>\r\n            </SendMessageForm>\r\n          </SendMessageWrapper>\r\n        </SendMessageContainer>\r\n      </InboxWrapper>\r\n    </InboxContainer>\r\n  );\r\n};\r\n\r\nexport default InboxSection;\r\n","import React from 'react';\r\nimport {\r\n  useCollectionOnce,\r\n  useDocumentDataOnce,\r\n} from 'react-firebase-hooks/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { docToJson, firestore } from '../../lib/firebase';\r\nimport { InboxContainer, InboxWrapper } from './elements';\r\nimport InboxSection from './InboxSection';\r\nconst genChatRoomName = (me, you) => {\r\n  if (me && you) {\r\n    if (me.localeCompare(you) === 0) {\r\n      return `${me}__${me}`;\r\n    } else if (me.localeCompare(you) > 0) {\r\n      return `${me}__${you}`;\r\n    } else {\r\n      return `${you}__${me}`;\r\n    }\r\n  }\r\n  return null;\r\n};\r\nconst InboxSectionHandle = ({ yourId }) => {\r\n  const me = useSelector((state) => state.auth.user);\r\n\r\n  // const me = auth.currentUser;\r\n  const messagesRef = firestore\r\n    .collection(`chats/${genChatRoomName(me.uid, yourId)}/messages`)\r\n    .orderBy('createdAt', 'asc')\r\n    .limitToLast(20);\r\n\r\n  const [value, loading1, error1] = useDocumentDataOnce(\r\n    firestore.doc(`users/${yourId}`)\r\n  );\r\n  const [messages, loading2, error2] = useCollectionOnce(messagesRef);\r\n\r\n  if (loading1 || loading2)\r\n    return (\r\n      <>\r\n        {' '}\r\n        <InboxContainer>\r\n          <InboxWrapper>\r\n            <div className='loader' />\r\n          </InboxWrapper>\r\n        </InboxContainer>\r\n      </>\r\n    );\r\n  if (error1 || error2 || !value) return <h1>Not found this person</h1>;\r\n  const messagesInit = messages && messages.docs.map(docToJson);\r\n  return (\r\n    <>\r\n      <InboxSection\r\n        me={me}\r\n        you={{ uid: yourId, ...value }}\r\n        messagesInit={messagesInit}\r\n      ></InboxSection>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InboxSectionHandle;\r\n","import React from 'react';\r\nimport { MessagePageContainer, MessageSectionWrapper } from './elements';\r\nimport ChatHistory from './ChatHistorySection';\r\nimport NavBarSection from './NavBarSection';\r\nimport InboxSectionHandle from './InboxSectionHandle';\r\n\r\nconst MessagePage = ({ yourId }) => {\r\n  console.log('render msg page');\r\n  return (\r\n    <MessagePageContainer>\r\n      <NavBarSection />\r\n      <MessageSectionWrapper>\r\n        <ChatHistory></ChatHistory>\r\n        <InboxSectionHandle yourId={yourId}></InboxSectionHandle>\r\n      </MessageSectionWrapper>\r\n    </MessagePageContainer>\r\n  );\r\n};\r\n\r\nexport default MessagePage;\r\n","import React from 'react';\r\nimport { useCollectionDataOnce } from 'react-firebase-hooks/firestore';\r\n// import { useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Loading from '../../components/Loading';\r\nimport { auth, firestore } from '../../lib/firebase';\r\nimport MessagePage from './MessagePage';\r\nconst RouteToMessagePage = ({ match }) => {\r\n  const me = auth.currentUser.uid;\r\n  const messagesRef = firestore.collection('chats');\r\n\r\n  const historyChatQuery = messagesRef\r\n    .where('members', 'array-contains', me)\r\n    .orderBy('lastUpdated', 'desc');\r\n\r\n  const [historyChat, loading, error] = useCollectionDataOnce(historyChatQuery);\r\n  if (match) {\r\n    const { toThisId } = match.params;\r\n    return <MessagePage yourId={toThisId}></MessagePage>;\r\n  } else {\r\n    if (loading) return <Loading></Loading>;\r\n    if (error) return <Loading>Error</Loading>;\r\n    const lastMessageUser = historyChat && historyChat[0];\r\n    if (lastMessageUser) {\r\n      const you =\r\n        lastMessageUser.members[0] === me\r\n          ? lastMessageUser.members[1]\r\n          : lastMessageUser.members[0];\r\n\r\n      return <Redirect to={`/message/t/${you}`} />;\r\n    } else {\r\n      return <Redirect to={'/message/new'} />;\r\n    }\r\n  }\r\n};\r\n\r\nexport default RouteToMessagePage;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport Loading from '../../components/Loading';\r\nimport ChatHistory from './ChatHistorySection';\r\nimport {\r\n  InboxContainer,\r\n  MessagePageContainer,\r\n  MessageSectionWrapper,\r\n} from './elements';\r\nimport NavBarSection from './NavBarSection';\r\n\r\nconst NewMessage = styled.div`\r\n  flex: 1;\r\n  background: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 4rem;\r\n`;\r\nconst NewMessagePage = () => {\r\n  const me = useSelector((state) => state.auth.user);\r\n  // const me = auth.currentUser;\r\n  if (!me) return <Loading />;\r\n  return (\r\n    <MessagePageContainer>\r\n      <NavBarSection />\r\n      <MessageSectionWrapper>\r\n        <ChatHistory me={me}></ChatHistory>\r\n        <InboxContainer>\r\n          <NewMessage>Chiếu mới chưa nhắn zới ai</NewMessage>\r\n        </InboxContainer>\r\n      </MessageSectionWrapper>\r\n    </MessagePageContainer>\r\n  );\r\n};\r\n\r\nexport default NewMessagePage;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AiTwotoneMail, AiOutlineGithub } from 'react-icons/ai';\r\nimport { RiLockPasswordFill } from 'react-icons/ri';\r\nimport { FaFacebook } from 'react-icons/fa';\r\nimport { FcGoogle } from 'react-icons/fc';\r\nimport { BsPeopleCircle } from 'react-icons/bs';\r\nimport {\r\n  ButtonsContainer,\r\n  ForgotPasswordLink,\r\n  FormFieldsContainer,\r\n  Heading,\r\n  Image,\r\n  InputContainer,\r\n  InputText,\r\n  LoginForm,\r\n  LoginFormContainer,\r\n  SocialLink,\r\n  SocialLinksContainer,\r\n  LoginSubmitButton,\r\n  Subtitle,\r\n} from './elements';\r\nimport { auth, googleAuthProvider } from '../../lib/firebase';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { useDispatch } from 'react-redux';\r\nimport { signIn } from '../../features/auth/authSlice';\r\nimport Loading from '../../components/Loading';\r\n\r\nimport styled from 'styled-components';\r\n\r\nconst PWUl = styled.ul`\r\n  display: flex;\r\n  flex-direction: row;\r\n  /* list-style: ; */\r\n  flex-direction: column;\r\n`;\r\nconst PWLi = styled.ul`\r\n  font-size: 0.9rem;\r\n  list-style: decimal;\r\n`;\r\n\r\nconst SignUp = () => {\r\n  const [user, loading, error] = useAuthState(auth);\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPw, setConfirmPw] = useState('');\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const handleSignInWithGoogle = async () => {\r\n    await auth.signInWithPopup(googleAuthProvider);\r\n    dispatch(signIn(auth.currentUser));\r\n  };\r\n  if (loading) {\r\n    return <Loading></Loading>;\r\n  }\r\n  if (error) {\r\n    return <h1>Error</h1>;\r\n  }\r\n  if (!loading && user) {\r\n    history.push('/');\r\n  }\r\n\r\n  const imgSrc = require('../../images/login.svg').default;\r\n  const handleSignUp = (e) => {\r\n    const photoUrl =\r\n      'https://spng.subpng.com/20190525/xux/kisspng-certified-ethical-hacker-ransomware-hackathon-comp-bs-siber-gvenlik-siber-gvenlik-hizmetleri-5ce9dec4628041.1955382615588307884035.jpg';\r\n    e.preventDefault();\r\n    auth\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then((userCredential) => {\r\n        // Signed in\r\n        const user = userCredential.user;\r\n        user\r\n          .updateProfile({\r\n            displayName: name,\r\n            photoURL: photoUrl,\r\n          })\r\n          .then(() => {})\r\n          .catch((error) => {});\r\n        dispatch(signIn({ ...user, name: name, photoURL: photoUrl }));\r\n        user\r\n          .sendEmailVerification()\r\n          .then(function () {\r\n            window.alert(\r\n              'Verification link sent to your email. Kinldy check to verify your account'\r\n            );\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {});\r\n  };\r\n  return (\r\n    <div>\r\n      <LoginFormContainer>\r\n        <LoginForm onSubmit={handleSignUp}>\r\n          <Heading>Start messaging and get new GF now</Heading>\r\n          <FormFieldsContainer>\r\n            <InputContainer>\r\n              <Subtitle>\r\n                <BsPeopleCircle />\r\n              </Subtitle>\r\n              <InputText\r\n                placeholder='name'\r\n                type='name'\r\n                value={name}\r\n                onChange={(e) => {\r\n                  setName(e.target.value);\r\n                }}\r\n              ></InputText>\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Subtitle>\r\n                <AiTwotoneMail />\r\n              </Subtitle>\r\n              <InputText\r\n                placeholder='email'\r\n                type='email'\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                }}\r\n              ></InputText>\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Subtitle>\r\n                <RiLockPasswordFill />\r\n              </Subtitle>\r\n              <InputText\r\n                placeholder='password'\r\n                type='password'\r\n                pattern='(?=.*[0-9])(?=.*[a-z])\\S{8,}'\r\n                value={password}\r\n                onChange={(e) => {\r\n                  setPassword(e.target.value);\r\n                }}\r\n              ></InputText>\r\n            </InputContainer>\r\n            <InputContainer>\r\n              <Subtitle>\r\n                <RiLockPasswordFill />\r\n              </Subtitle>\r\n              <InputText\r\n                placeholder='confirm password'\r\n                type='password'\r\n                pattern='(?=.*[0-9])(?=.*[a-z])\\S{8,}'\r\n                value={confirmPw}\r\n                onChange={(e) => {\r\n                  setConfirmPw(e.target.value);\r\n                }}\r\n              ></InputText>\r\n            </InputContainer>\r\n            <ButtonsContainer>\r\n              <LoginSubmitButton\r\n                type='submit'\r\n                disabled={password !== confirmPw}\r\n              >\r\n                Sign up\r\n              </LoginSubmitButton>\r\n            </ButtonsContainer>\r\n            <ForgotPasswordLink to='/login'>\r\n              ? Already have account\r\n            </ForgotPasswordLink>\r\n            {password !== confirmPw && <h4>Password not match</h4>}\r\n            <PWUl>\r\n              <PWLi>minimum 8 chars</PWLi>\r\n              <PWLi>at least 1 number</PWLi>\r\n              <PWLi>at least 1 letter</PWLi>\r\n            </PWUl>\r\n          </FormFieldsContainer>\r\n          <SocialLinksContainer>\r\n            <SocialLink href='/github' onClick={() => console.log('gh')}>\r\n              <AiOutlineGithub />\r\n            </SocialLink>\r\n            <SocialLink href='/fb'>\r\n              <FaFacebook />\r\n            </SocialLink>\r\n            <SocialLink href='/gg' onClick={handleSignInWithGoogle}>\r\n              <FcGoogle />\r\n            </SocialLink>\r\n          </SocialLinksContainer>\r\n          <Image></Image>\r\n        </LoginForm>\r\n        <Image src={imgSrc}></Image>\r\n      </LoginFormContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { auth } from '../../lib/firebase';\r\n\r\nconst NotVerifiedContainer = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  align-content: center;\r\n  justify-content: center;\r\n`;\r\nconst NotVerifiedWrapper = styled.div`\r\n  /* width: 650px; */\r\n  max-width: 730px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-content: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Message = styled.h1`\r\n  height: auto;\r\n  overflow-wrap: break-word;\r\n  font-size: 2.5rem;\r\n`;\r\n\r\nconst ButtonGroups = styled.div`\r\n  height: 200px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n`;\r\n\r\nconst Button = styled.div`\r\n  outline: none;\r\n  font-size: 1.3rem;\r\n  &:hover {\r\n    transform: translateY(-2px);\r\n  }\r\n  &:hover:active {\r\n    transform: translateY(2px);\r\n  }\r\n  border: 1px solid #dbdbdb;\r\n  border-radius: 1.2rem;\r\n  padding: 10px 20px;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  background: ${({ background }) => background};\r\n`;\r\n\r\nconst NotVerifiedPage = () => {\r\n  const history = useHistory();\r\n  if (auth && auth.currentUser && auth.currentUser.emailVerified) {\r\n    history.push('/');\r\n  }\r\n  const handleSignOut = async () => {\r\n    console.log('click');\r\n    await auth.signOut();\r\n    history.push('/');\r\n  };\r\n  const handleToHome = async () => {\r\n    await auth.currentUser.reload();\r\n    history.push('/');\r\n  };\r\n  const handleRequest = async () => {\r\n    auth.currentUser\r\n      .sendEmailVerification()\r\n      .then(function () {\r\n        window.alert(\r\n          'Verification link sent to your email. Kinldy check to verify your account'\r\n        );\r\n      })\r\n      .catch(function (error) {\r\n        // An error happened.\r\n      });\r\n  };\r\n  return (\r\n    <NotVerifiedContainer>\r\n      <NotVerifiedWrapper>\r\n        <Message>Your account is still not being verified.</Message>\r\n        <Message>\r\n          Please check your email or request a new verification.\r\n        </Message>\r\n        <ButtonGroups>\r\n          <Button onClick={handleSignOut} background='red'>\r\n            Sign out\r\n          </Button>\r\n          <Button onClick={handleRequest} background='green'>\r\n            Request verification email\r\n          </Button>\r\n          <Button onClick={handleToHome} background='yellow'>\r\n            Already verified\r\n          </Button>\r\n        </ButtonGroups>\r\n      </NotVerifiedWrapper>\r\n    </NotVerifiedContainer>\r\n  );\r\n};\r\n\r\nexport default NotVerifiedPage;\r\n","import React from 'react';\r\nimport { useAuthState } from 'react-firebase-hooks/auth';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport { auth } from '../lib/firebase';\r\nimport Loading from './Loading';\r\n\r\nconst NotVerifiedRoute = ({ children, ...rest }) => {\r\n  const [user, loading, error] = useAuthState(auth);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        loading ? (\r\n          <Loading />\r\n        ) : !user || error ? (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/login',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        ) : user.emailVerified ? (\r\n          <Redirect\r\n            to={{\r\n              pathname: '/',\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        ) : (\r\n          children\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default NotVerifiedRoute;\r\n","import {\r\n  Redirect,\r\n  Route,\r\n  HashRouter as Router,\r\n  Switch,\r\n} from 'react-router-dom';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PrivateAndParamsRoute from './components/PrivateAndParamsRoute';\r\nimport Custom404 from './pages/404/404';\r\nimport HomePage from './pages/homepage/HomePage';\r\nimport Login from './pages/auth/LoginPage';\r\nimport ProfilePage from './pages/profile/ProfilePage';\r\nimport RouteToToMessagePage from './pages/messages/RouteMessagePage';\r\nimport NewMessagePage from './pages/messages/NewMessagePage';\r\nimport SignUp from './pages/auth/SignUpPage';\r\nimport NotVerifiedPage from './pages/notVerified/NotVerifiedPage';\r\nimport NotVerifiedRoute from './components/NotVerifiedRoute';\r\n\r\nexport const Routing = () => {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <PrivateRoute exact path='/notifications'>\r\n          <HomePage />\r\n        </PrivateRoute>\r\n        <PrivateAndParamsRoute\r\n          exact\r\n          path='/'\r\n          children={HomePage}\r\n        ></PrivateAndParamsRoute>\r\n        <Route exact path='/login'>\r\n          <Login />\r\n        </Route>\r\n        <Route exact path='/signup'>\r\n          <SignUp />\r\n        </Route>\r\n        <NotVerifiedRoute exact path='/auth/verification'>\r\n          <NotVerifiedPage />\r\n        </NotVerifiedRoute>\r\n        <Route exact path='/auth/forgot'>\r\n          <Login />\r\n        </Route>\r\n        <PrivateRoute exact path='/message'>\r\n          <RouteToToMessagePage />\r\n        </PrivateRoute>\r\n        <PrivateRoute exact path='/message/new'>\r\n          <NewMessagePage />\r\n        </PrivateRoute>\r\n        <PrivateRoute exact path='/message/t/'>\r\n          <RouteToToMessagePage />\r\n        </PrivateRoute>\r\n        <PrivateAndParamsRoute\r\n          exact\r\n          path='/message/t/:toThisId'\r\n          children={RouteToToMessagePage}\r\n        ></PrivateAndParamsRoute>\r\n        <PrivateAndParamsRoute\r\n          exact\r\n          path='/user/:uid'\r\n          children={ProfilePage}\r\n        ></PrivateAndParamsRoute>\r\n        <Route path='/notfound/404' component={Custom404} />\r\n        <Redirect to='/notfound/404' />\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\n","import './App.css';\r\nimport { persistor, store } from './app/store';\r\n\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { Provider } from 'react-redux';\r\nimport { Routing } from './route';\r\nimport { Toaster } from 'react-hot-toast';\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <div>\r\n        <Toaster position='bottom-left' reverseOrder={false} />\r\n      </div>\r\n      <Provider store={store}>\r\n        <PersistGate persistor={persistor}>\r\n          <Routing />\r\n        </PersistGate>\r\n      </Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}